<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %}</title>
    <link rel="stylesheet" href="{{ url_for('forum.static', filename='css/other_style.css') }}">
    <link rel="stylesheet" href="{{ url_for('forum.static', filename='css/buefy.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('forum.static', filename='css/materialdesignicons.min.css') }}">

</head>

<body>
    <div id="app" style="height:100%;">
        <div class="container is-fluid1" style="height:100%; ">
            <div class="is-block" style="height:100%;">
                {% block navbar %}
<template>
    <b-navbar>
        <template #brand>
            <b-navbar-item tag="router-link" :to="{ path: '/' }">
                <img
                    src="https://raw.githubusercontent.com/buefy/buefy/dev/static/img/buefy-logo.png"
                    alt="Lightweight UI components for Vue.js based on Bulma"
                >
            </b-navbar-item>
        </template>
        <template #start>
            <b-navbar-item href="/">
                Home
            </b-navbar-item>
        {% if g.user %}
        {% if g.user.perm == 2 %}
            <b-navbar-item href="{{ url_for('admin.index') }}">
                Admin terminal
            </b-navbar-item>
        {% endif %}
        {% endif %}
            {% if '/forum/category' in request.path%}
            <b-navbar-dropdown label="{{ category.category_name }}">
            {% else %}
            <b-navbar-dropdown label="Category">
            {% endif %}
                {% for cat in categories %}
                <b-navbar-item href="{{ url_for('forum.articles_with_category', cat_id=cat.category_id) }}">
                    {{ cat.category_name }}
                </b-navbar-item>

                {% endfor %}
            </b-navbar-dropdown>
        </template>

        <template #end>
{#            <b-navbar-item tag="div">#}
{#                <div class="buttons">#}
{#                    <a class="button is-primary">#}
{#                        <strong>Sign up</strong>#}
{#                    </a>#}
{#                    <a class="button is-light">#}
{#                        Log in#}
{#                    </a>#}
{#                </div>#}
               {% if g.user %}
{#                {% if user_id %}#}
                <div class=" buttons">


                    <a class="button is-primary is-light">Welcome {{ g.user['user_name'] }}</a>

                    <a class="button is-success" href="{{ url_for('forum.personal_index') }}">Individual center</a>



                    <a class="button is-danger" href="{{ url_for('auth.logout') }}">Logout</a>
                </div>
                {% else %}
                <div class="buttons">
                    <a class="button is-primary" href="{{ url_for('auth.register') }}">
                        <strong>Sign up</strong>
                    </a>
                    <a class="button is-light" href="{{ url_for('auth.login') }}">Log in</a>
                </div>
                {% endif %}
            </b-navbar-item>
        </template>
    </b-navbar>
</template>
                {% endblock navbar %}

                 {% block search %}

                 {% endblock search %}

                {% block main %}

                {% endblock main %}

{% block manage %}
{% endblock manage %}

{% block footer %}
    <footer class="footer">
      <div class="content has-text-centered">
        <p>
          <strong>Bulma</strong> by <a href="https://jgthms.com">Jeremy Thomas</a>. The source code is licensed
          <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The website content
          is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY NC SA 4.0</a>.
        </p>
      </div>
    </footer>
{% endblock footer %}
            </div>

        </div>
    </div>

    <script src="{{ url_for('forum.static', filename='js/vue.js') }}"></script>
    <script src="{{ url_for('forum.static', filename='js/buefy.min.js') }}"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {},
            methods: {}
        })
    </script>
</body>

</html>